$(()=>{const e={leftIndex:0,rightIndex:1};let t=window.matchMedia("screen and (max-width: 1023px)"),n=window.matchMedia("screen and (max-width: 1199px) and (orientation: portrait)");const i=()=>{let e=$(".table"),t=$(window).height(),n=$(".row"),i=n.outerHeight(),s=Math.floor(t/i);(s=s>21?21:s)>13?(e.prev().removeClass().addClass("content-wrapper").addClass(`rows${(s-1).toString()}`),n.each(function(e){e<=s-2?$(this).removeClass("hidden"):$(this).addClass("hidden")})):(e.prev().removeClass().addClass("content-wrapper").addClass("rows13"),n.each(function(e){e<=12?$(this).removeClass("hidden"):$(this).addClass("hidden")}))};let s=2,d=!1;const h=e=>{if(d)return;let t=Math.floor(Math.random()*(e.length+2)),n=Math.floor(10*Math.random())+10;t!==s&&1!==t?(0===s?(s=1,setTimeout(()=>{e.each(function(e,t){1===e?$(t).fadeIn(500):$(t).hide()})},500*n)):(s=t,setTimeout(()=>{e.each(function(e,n){e===t?$(n).fadeIn(500):$(n).hide()})},500*n)),d=!0,setTimeout(()=>{d=!1},1e3*n)):h(e)},o=(t,n,i)=>{let s=t;$(".nav-left > .next").on("click",function(){h(i),s===t&&$(this).prev().show(),"VIDEO"===$(n[s]).children()[0].tagName&&$(n[s]).children()[0].pause(),$(n[s]).hide(),s+=2,e.leftIndex=s,$(n[s]).show(),"VIDEO"===$(n[s]).children()[0].tagName&&$(n[s]).children()[0].play(),n.length%2||s!==n.length-2?n.length%2&&s===n.length-1&&$(this).hide():$(this).hide()}),$(".nav-left > .prev").on("click",function(){h(i),n.length%2||s!==n.length-2?n.length%2&&s===n.length-1&&$(this).next().show():$(this).next().show(),"VIDEO"===$(n[s]).children()[0].tagName&&$(n[s]).children()[0].pause(),$(n[s]).hide(),s-=2,e.leftIndex=s,$(n[s]).show(),"VIDEO"===$(n[s]).children()[0].tagName&&$(n[s]).children()[0].play(),s===t&&$(this).hide()})},a=(t,n,i)=>{let s=t;$(".nav-right > .next").on("click",function(){h(i),s===t&&$(this).prev().show(),"VIDEO"===$(n[s]).children()[0].tagName&&$(n[s]).children()[0].pause(),$(n[s]).hide(),s+=2,e.rightIndex=s,$(n[s]).show(),"VIDEO"===$(n[s]).children()[0].tagName&&$(n[s]).children()[0].play(),n.length%2||s!==n.length-1?n.length%2&&s===n.length-2&&$(this).hide():$(this).hide()}),$(".nav-right > .prev").on("click",function(){h(i),n.length%2||s!==n.length-1?n.length%2&&s===n.length-2&&$(this).next().show():$(this).next().show(),"VIDEO"===$(n[s]).children()[0].tagName&&$(n[s]).children()[0].pause(),$(n[s]).hide(),s-=2,e.rightIndex=s,$(n[s]).show(),"VIDEO"===$(n[s]).children()[0].tagName&&$(n[s]).children()[0].play(),s===t&&$(this).hide()})},l=function(){const e=$(".content-wrapper figure:not(.theme)"),t=e.filter(":visible"),n=t.filter(".even").children()[0],i=t.filter(".odd").children()[0];$(t.filter(".even")).find(".poster").css("display","none"),$(t.filter(".odd")).find(".poster").css("display","flex"),"VIDEO"===n.tagName&&n.paused&&n.play(),"VIDEO"===i.tagName&&!i.paused&&i.pause(),$(window).off("mousemove scroll").on("mousemove",function(t){t=t||window.event;const n=e.filter(":visible"),i=n.filter(".even").children()[0],s=n.filter(".odd").children()[0];t.clientY<document.documentElement.clientHeight/2?($(n.filter(".even")).find(".poster").css("display","none"),$(n.filter(".odd")).find(".poster").css("display","flex"),"VIDEO"===i.tagName&&i.paused&&i.play(),"VIDEO"===s.tagName&&!s.paused&&s.pause()):($(n.filter(".odd")).find(".poster").css("display","none"),$(n.filter(".even")).find(".poster").css("display","flex"),"VIDEO"===s.tagName&&s.paused&&s.play(),"VIDEO"===i.tagName&&!i.paused&&i.pause())})},r=function(){$(window).off("mousemove scroll").on("scroll",function(){const e=$(".content-wrapper figure:not(.theme,.photos)"),t=[...e].filter(e=>e.getBoundingClientRect().top>0).reduce((e,t)=>e.getBoundingClientRect().top<t.getBoundingClientRect().top?e:t);e.each((e,n)=>{const i=n.querySelector("video");n===t?i.paused&&i.play():!i.paused&&i.pause()})})};(()=>{if($("body").hasClass("multimedia")){const i=$(".image"),s=$(".theme img");let d=0,h=1;s.eq(2).show(),o(d,i,s),a(h,i,s),t.matches||n.matches?r():($(i[0]).show(),$(i[1]).show(),l()),t.addListener(function(t){t.matches?($(i).show(),$(".poster").hide(),r()):($(i).hide(),$(i[e.leftIndex]).show(),$(i[e.rightIndex]).show(),l())}),n.addListener(function(t){t.matches?($(i).show(),$(".poster").hide(),r()):($(i).hide(),$(i[e.leftIndex]).show(),$(i[e.rightIndex]).show(),l())})}})(),i(),$(window).on("resize",i)});
//# sourceMappingURL=app.js.map
