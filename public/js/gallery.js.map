{"version":3,"sources":["gallery.js"],"names":["$","window","matchMedia","addListener","mq","remove","galleryKampania","galleryKampaniaPics","prevWidth","prevHeight","position","counter","frame","image","currWidth","Math","append","widths","length","currHeight","floor","random","heights","e","stopPropagation","drawImagePosition","push","images","showGalleryImages","attr","on","css","one","this","first","pictures","off"],"mappings":"AAAAA,EAAE,KACuBC,OAAOC,WAAW,kCAC1BC,YAAY,SAAAC,GAEzBA,EAAGA,SAEDJ,EAAE,YAAYK,WAKlB,MAAMC,EAAkBN,EAAE,WACpBO,EAAsB,CAC1B,mEAwBF,mEACA,mEACA,mEAtBE,mEAwBF,mEACE,mEACA,mEAtBA,mEAwBA,mEACA,mEACA,mEAtBA,mEAwBA,mEACE,mEAED,mEACCC,mEACAC,mEAvBF,mEAyBEC,mEACAA,mEAvBF,oEA6BF,IAAIC,GAAJ,EAxBIF,GAAc,EA4BhB,MAAIC,EAAJ,KACA,MAAIE,EAAU,CAAA,GAAA,KAAA,KAAA,KAAA,KAAA,GAAd,KAAA,IACIC,EAAU,CAAA,IAAd,IAAA,IAAA,IAAA,GAAA,KAAA,KAAA,KAAA,IAEAD,IAAAA,EAAaC,GACXC,EAAAC,KAAmBC,MAArBD,KAA4BH,SAA5BK,EAAAC,QAzBIC,EAAaJ,KAAKK,MAAML,KAAKM,SAASC,EAAQJ,QA4BhDK,OAAEC,IAAFf,GAAAK,IAAAN,EADFiB,KArBEjB,EAAYM,EA4BdF,EAAUO,EAzBRT,EAASgB,KAAKT,EAAOH,IA4BvBJ,EAAIC,KAAAW,EAAgBX,IAEhBgB,IAvBN,IAAIhB,EAAU,EA+BT,MAJDiB,EAAAD,IAKAhB,IAAAA,EACDC,EAAAZ,EAAA,4BA9BHa,EAAAb,EAAA,SAkBE,GAdAa,EAAMgB,KAAK,MAAOF,EAAOhB,IA8B3BL,EAAAA,OAAAA,GACEiB,EAAEC,mBAAFR,OAAAJ,GAEAZ,EAAE8B,GAAF,QAAc,SAASP,GACrBA,EAAAC,oBADFd,EAAA,IAICC,EAJD,CAAA,GAAA,MAAAc,IAvGJb,EAAAmB,IAAA,UAAArB,EAAA,OAkFIE,EAAMmB,IAAI,SAAUrB,EAAS,OAEzBC,GAAW,GAAKA,GAAWgB,EAAOT,OAAQ,EAAG,CAC/C,IAAIS,EAAS3B,EAAE,YACfA,EAAE2B,EAAOhB,EAAQ,IACdoB,IAAI,UAAU,MAEfpB,GAAWgB,EAAOT,OAAQ,IAC5BL,EAAMmB,IAAI,QAAS,WAEjBhC,EAAEiC,MAAMC,QAAQH,IAAI,SAAU,WAC9BH,EAAkBrB,KAEpBI,MAKJL,EAAgBwB,GAAG,QAAS,SAAUP,GACpCA,EAAEC,kBACFb,EAAU,EACVX,EAAE,QAAQgC,IAAI,QAAS,WACrB,IAAIG,EAAWnC,EAAE,YACjBmC,EAASC,MACTD,EAAS9B,WAEXuB,EAAkBrB","file":"gallery.js","sourcesContent":["$(()=>{\n  const mobileViewport = window.matchMedia(\"screen and (max-width: 1024px)\");\n  mobileViewport.addListener(function(mq) {\n\n    if(mq.matches) {\n      //console.log($('.picture'), images);\n      $('.picture').remove()\n    }\n  });\n\n  // create array of kampania smieciowa gallery sources\n  const galleryKampania = $('.photos');\n  const galleryKampaniaPics = [\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0090-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0119-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0244-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0324-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0336-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0350-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0370-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0394-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0418-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0430-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0439-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0452-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0578-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0608-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0636-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0645-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0672-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0713-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0798-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0834-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0881-sRGB.jpg\",\n    \"images/kampania%20smieciowa/Segregacja-uMstWarszawa0915-sRGB.jpg\"\n  ];\n\n  // gallery page handling\n  let prevWidth = -1;\n  let prevHeight = -1;\n\n  const drawImagePosition = () =>{\n    const widths = [52,50.1,48.2,46.6,53.7,56,57.2,59];\n    const heights = [6.5, 7.7, 8.3, 9.2, 10, 10.9, 11.6, 12.1, 13];\n\n    let position =[];\n    let currWidth = Math.floor(Math.random()*widths.length);\n    let currHeight = Math.floor(Math.random()*heights.length);\n\n    if (currHeight === prevHeight || currWidth === prevWidth){\n      return drawImagePosition();\n\n    } else{\n      prevWidth = currWidth;\n      prevHeight = currHeight;\n\n      position.push(widths[currWidth]);\n      position.push(heights[currHeight]);\n\n      return position\n    }\n\n  };\n  let counter = 0;\n\n\n  const showGalleryImages = (images) =>{\n    let position;\n    let frame = $('<figure class=\"picture\">');\n    let image = $('<img>');\n    image.attr('src', images[counter]);\n    frame.append(image);\n    $('.main-container').append(frame);\n\n    frame.on('click', function (e) {\n      e.stopPropagation();\n    });\n\n    counter === 0 ? position = [52, 7.95] : position = drawImagePosition();\n\n\n    frame.css(\"left\", `${position[0]}%`);\n    frame.css(\"top\", `${position[1]}%`);\n\n    if (counter >= 1 && counter <= images.length -1) {\n      let images = $('.picture');\n      $(images[counter-1])\n        .css('opacity','.9')\n        }\n    if (counter <= images.length -1) {\n      image.one(\"click\", function () {\n\n        $(this).first().css(\"cursor\", \"initial\");\n        showGalleryImages(galleryKampaniaPics)\n      });\n      counter++;\n    }\n  };\n\n\n  galleryKampania.on('click', function (e) {\n    e.stopPropagation();\n    counter = 0;\n    $('body').one('click', function () {\n      let pictures = $('.picture');\n      pictures.off();\n      pictures.remove();\n    });\n    showGalleryImages(galleryKampaniaPics)\n  })\n});"]}