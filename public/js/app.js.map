{"version":3,"sources":["app.js"],"names":["$","imagesInfo","leftIndex","rightIndex","mobileViewport","window","matchMedia","tabletViewport","defineTable","table","viewPort","height","row","rowHeight","outerHeight","availableRows","Math","floor","prev","removeClass","addClass","index","toString","each","this","prevNum","disableThemeChange","drawTheme","themes","disableTime","draw","random","length","i","setTimeout","e","fadeIn","hide","handleLeftGallery","images","counter","on","show","handleRightGallery","next","documentElement","figures","visibleVideos","filter","find","topVideo","children","tagName","paused","bottomVideo","css","play","pause","off","event","clientY","document","clientHeight","videos","video","el","showImagesCommercial","mobileHandleMiniatures","getBoundingClientRect","top","reduce","current","querySelector","hasClass","desktopHandleMiniatures","addListener","matches","mq"],"mappings":"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","file":"app.js","sourcesContent":["$(() => {\n\n\t// define image index object to properly show images after resizing\n\tconst imagesInfo = {\n\t\tleftIndex: 0,\n\t\trightIndex: 1\n\t};\n\n\t// define smaller screens\n\n\tlet mobileViewport = window.matchMedia(\"screen and (max-width: 1023px)\");\n\tlet tabletViewport = window.matchMedia(\"screen and (max-width: 1199px) and (orientation: portrait)\");\n\n\t// drawing a table relative to viewport\n\n\tconst defineTable = () => {\n\t\tlet table = $('.table');\n\t\tlet viewPort = $(window).height();\n\t\tlet row = $('.row');\n\t\tlet rowHeight = row.outerHeight();\n\t\tlet availableRows = Math.floor(viewPort / rowHeight);\n\n\t\t// to avoid content-wrapper class going over \"rows20\"\n\t\tavailableRows = availableRows > 21 ? 21 : availableRows;\n\n\t\t// draw table rows (min 13, max 20)\n\t\t// add class to content-wrapper informing how many rows is there\n\t\tif (availableRows > 13) {\n\t\t\ttable.prev().removeClass()\n\t\t\t\t.addClass('content-wrapper')\n\t\t\t\t.addClass(`rows${(availableRows - 1).toString()}`);\n\n\t\t\trow.each(function (index) {\n\t\t\t\tindex <= availableRows - 2 ? $(this).removeClass('hidden') : $(this).addClass(\"hidden\");\n\t\t\t})\n\t\t} else {\n\t\t\ttable.prev().removeClass()\n\t\t\t\t.addClass('content-wrapper')\n\t\t\t\t.addClass(`rows13`);\n\n\t\t\trow.each(function (index) {\n\t\t\t\tindex <= 12 ? $(this).removeClass('hidden') : $(this).addClass(\"hidden\");\n\t\t\t})\n\t\t}\n\t};\n\n\t// drawing themes\n\tlet prevNum = 2;  // first displayed image index\n\tlet disableThemeChange = false;\n\n\tconst drawTheme = (themes) => {\n\n\t\tif (disableThemeChange) return;\n\n\t\t//image index can be larger than actual images index, to simulate drawing no image\n\t\tlet draw = Math.floor(Math.random() * (themes.length + 2));\n\t\tlet disableTime = Math.floor(Math.random() * (20 - 10)) + 10;\n\n\n\t\tif (draw === prevNum || draw === 1) { //image 1 is restricted to show after another image\n\t\t\tdrawTheme(themes);\n\t\t\treturn;\n\t\t} else {\n\n\t\t\tif (prevNum === 0) {\n\t\t\t\tprevNum = 1;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthemes.each(function (i, e) {\n\t\t\t\t\t\ti === 1 ? $(e).fadeIn(500) : $(e).hide();\n\t\t\t\t\t})\n\t\t\t\t}, disableTime * 500);\n\n\t\t\t} else {\n\t\t\t\tprevNum = draw;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthemes.each(function (i, e) {\n\t\t\t\t\t\ti === draw ? $(e).fadeIn(500) : $(e).hide();\n\t\t\t\t\t})\n\t\t\t\t}, disableTime * 500);\n\t\t\t}\n\t\t}\n\t\tdisableThemeChange = true\n\t\tsetTimeout(() => {\n\t\t\tdisableThemeChange = false;\n\t\t}, disableTime * 1000);\n\n\t};\n\n\t// handling left and right side galleries\n\tconst handleLeftGallery = (index, images, themes) => {\n\t\tlet counter = index;\n\t\t\n\t\t$(\".nav-left > .next\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).prev().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter += 2;\n\t\t\timagesInfo.leftIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 2) {\n\t\t\t\t$(this).hide();\n\t\t\t} else if (images.length % 2 && counter === images.length - 1) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t});\n\n\t\t$(\".nav-left > .prev\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 2) {\n\t\t\t\t$(this).next().show();\n\n\t\t\t} else if (images.length % 2 && counter === images.length - 1) {\n\t\t\t\t$(this).next().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter -= 2;\n\t\t\timagesInfo.leftIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t})\n\t};\n\n\tconst handleRightGallery = (index, images, themes) => {\n\t\tlet counter = index;\n\n\t\t$(\".nav-right > .next\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).prev().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter += 2;\n\t\t\timagesInfo.rightIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 1) {\n\t\t\t\t$(this).hide();\n\t\t\t} else if (images.length % 2 && counter === images.length - 2) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t});\n\n\t\t$(\".nav-right > .prev\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 1) {\n\t\t\t\t$(this).next().show();\n\t\t\t\t\n\n\t\t\t} else if (images.length % 2 && counter === images.length - 2) {\n\t\t\t\t$(this).next().show();\n\t\t\t\t\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter -= 2;\n\t\t\timagesInfo.rightIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t})\n\t};\n\n\tconst showImagesCommercial = () => {\n\t\tif($('body').hasClass('multimedia')){\n\t\t\tconst images = $('.image');\n\t\t\tconst themes = $('.theme img');\n\n\t\t\tlet leftIndex = 0;\n\t\t\tlet rightIndex = 1;\n\t\t\tthemes.eq(2).show();\n\t\t\t//drawTheme(themes);\n\t\t\thandleLeftGallery(leftIndex, images, themes);\n\t\t\thandleRightGallery(rightIndex, images, themes);\n\n\n\n\t\t\t// handle display while resize and change screen orientation\n\n\t\t\t// on loading page if desktop, show proper immages and handle small videos\n\n\t\t\tif (!(mobileViewport.matches || tabletViewport.matches)) {\n\t\t\t\t$(images[0]).show();\n\t\t\t\t$(images[1]).show();\n\t\t\t\tdesktopHandleMiniatures();\n\t\t\t} else {\n\t\t\t\tmobileHandleMiniatures();\n\n\t\t\t}\n\n\t\t\tmobileViewport.addListener(function (mq) {\n\n\t\t\t\tif (mq.matches) {\n\t\t\t\t\t$(images).show();\n\t\t\t\t\t$('.poster').hide();\n\t\t\t\t\tmobileHandleMiniatures();\n\n\t\t\t\t} else {\n\t\t\t\t\t$(images).hide();\n\t\t\t\t\t$(images[imagesInfo.leftIndex]).show();\n\t\t\t\t\t$(images[imagesInfo.rightIndex]).show();\n\t\t\t\t\tdesktopHandleMiniatures();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ttabletViewport.addListener(function (mq) {\n\n\t\t\t\tif (mq.matches) {\n\t\t\t\t\t$(images).show();\n\t\t\t\t\t$('.poster').hide();\n\t\t\t\t\tmobileHandleMiniatures();\n\n\t\t\t\t} else {\n\t\t\t\t\t$(images).hide();\n\t\t\t\t\t$(images[imagesInfo.leftIndex]).show();\n\t\t\t\t\t$(images[imagesInfo.rightIndex]).show();\n\t\t\t\t\tdesktopHandleMiniatures();\n\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\tconst desktopHandleMiniatures = function () {\n\t\tconst figures = $('.content-wrapper figure:not(.theme)')\n\n\t\t//initial show and play proper video\n\t\tconst visibleVideos = figures.filter(':visible'),\n\t\t\ttopVideo = visibleVideos.filter('.even').children()[0],\n\t\t\tbottomVideo = visibleVideos.filter('.odd').children()[0];\n\t\t\t$(visibleVideos.filter('.even'))\n\t\t\t.find('.poster')\n\t\t\t.css('display', 'none');\n\t\t\t\n\n\t\t$(visibleVideos.filter('.odd'))\n\t\t\t.find('.poster')\n\t\t\t.css('display', 'flex');\n\n\t\ttopVideo.tagName === 'VIDEO' && topVideo.paused ? topVideo.play() : null;  \n\t\tbottomVideo.tagName === 'VIDEO' && !bottomVideo.paused ? bottomVideo.pause() : null;  \n\n\n\t\t$(window)\n\t\t.off('mousemove scroll')\n\t\t.on('mousemove', function (e) {\n\t\t\te = e || window.event;\n\t\t\tconst visibleVideos = figures.filter(':visible'),\n\t\t\t\ttopVideo = visibleVideos.filter('.even').children()[0],\n\t\t\t\tbottomVideo = visibleVideos.filter('.odd').children()[0];\n\t\t\t\n\t\t\tif (e.clientY < document.documentElement.clientHeight / 2) \n\t\t\t{\n\t\t\t\t//hide top video poster, show bottom video poster, play top pause bottom video\n\t\t\t\t$(visibleVideos.filter('.even'))\n\t\t\t\t\t.find('.poster')\n\t\t\t\t\t.css('display', 'none');\n\t\t\t\t\t\n\n\t\t\t\t$(visibleVideos.filter('.odd'))\n\t\t\t\t\t.find('.poster')\n\t\t\t\t\t.css('display', 'flex');\n\n\t\t\t\ttopVideo.tagName === 'VIDEO' && topVideo.paused ? topVideo.play() : null;  \n\t\t\t\tbottomVideo.tagName === 'VIDEO' && !bottomVideo.paused ? bottomVideo.pause() : null;  \n\t\t\t} \n\t\t\telse \n\t\t\t{\n\t\t\t\t$(visibleVideos.filter('.odd'))\n\t\t\t\t\t.find('.poster')\n\t\t\t\t\t.css('display', 'none');\n\t\t\t\t$(visibleVideos.filter('.even'))\n\t\t\t\t\t.find('.poster')\n\t\t\t\t\t.css('display', 'flex');\n\t\t\t\t\n\t\t\t\tbottomVideo.tagName === 'VIDEO' && bottomVideo.paused ? bottomVideo.play() : null; topVideo.tagName === 'VIDEO' && !topVideo.paused ? topVideo.pause() : null; \t\n\t\t\t}\n\n\t\t})\n\t}\n\t\n\t\n\t/* const desktopHandleMiniatures = function () {\n\t\t$('.image')\n\t\t\t.off('mouseenter mouseleave scroll')\n\t\t\t.on('mouseenter mouseleave', function (event) {\n\n\t\t\t\tconst video = this.querySelector('video');\n\t\t\t\tif (event.type === 'mouseenter')\n\t\t\t\t\tvideo !== null ? video.play() : null;\n\t\t\t\telse\n\t\t\t\t\tvideo !== null ? video.pause() : null;\n\t\t\t});\n\t} */\n\n\tconst mobileHandleMiniatures = function () {\n\t\t$(window)\n\t\t\t.off('mousemove scroll')\n\t\t\t.on('scroll', function () {\n\n\t\t\t\tconst\n\t\t\t\t\tvideos = $('.content-wrapper figure:not(.theme,.photos)'),\n\t\t\t\t\ttopVideo = [...videos]\n\t\t\t\t\t\t.filter((el) => el.getBoundingClientRect().top > 0)\n\t\t\t\t\t\t.reduce((prev, current) => (prev.getBoundingClientRect().top < current.getBoundingClientRect().top) ? prev : current)\n\n\t\t\t\tvideos.each((i, el) => {\n\t\t\t\t\t//video must have muted attr for this code to work!!!\n\t\t\t\t\tconst video = el.querySelector('video');\n\t\t\t\t\tif (el === topVideo) {\n\t\t\t\t\t\tvideo.paused ? video.play() : null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t!video.paused ? video.pause(): null;\n\t\t\t\t\t}\n\n\t\t\t\t})\n\n\n\n\t\t\t});\n\t}\n\n\tshowImagesCommercial();\n\tdefineTable();\n\t$(window).on(\"resize\", defineTable);\n\n\n});\n\n\n\n"]}