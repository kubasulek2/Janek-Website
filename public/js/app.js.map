{"version":3,"sources":["app.js"],"names":["$","imagesInfo","leftIndex","rightIndex","mobileViewport","window","matchMedia","tabletViewport","defineTable","table","viewPort","height","row","rowHeight","outerHeight","availableRows","Math","floor","prev","removeClass","addClass","index","toString","each","this","prevNum","disableThemeChange","drawTheme","themes","disableTime","draw","random","length","i","setTimeout","e","fadeIn","hide","handleLeftGallery","images","counter","on","show","handleRightGallery","next","showImagesCommercial","desktopHandleMiniatures","video","off","event","querySelector","type","mobileHandleMiniatures","videos","topVideo","filter","el","getBoundingClientRect","top","reduce","current","readyState","play","pause","matches","addListener","mq"],"mappings":"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","file":"app.js","sourcesContent":["$(() => {\n\n\t// define image index object to properly show images after resizing\n\tconst imagesInfo = {\n\t\tleftIndex: 0,\n\t\trightIndex: 1\n\t};\n\n\t// define smaller screens\n\n\tlet mobileViewport = window.matchMedia(\"screen and (max-width: 1023px)\");\n\tlet tabletViewport = window.matchMedia(\"screen and (max-width: 1199px) and (orientation: portrait)\");\n\n\t// drawing a table relative to viewport\n\n\tconst defineTable = () => {\n\t\tlet table = $('.table');\n\t\tlet viewPort = $(window).height();\n\t\tlet row = $('.row');\n\t\tlet rowHeight = row.outerHeight();\n\t\tlet availableRows = Math.floor(viewPort / rowHeight);\n\n\t\t// to avoid content-wrapper class going over \"rows20\"\n\t\tavailableRows = availableRows > 21 ? 21 : availableRows;\n\n\t\t// draw table rows (min 13, max 20)\n\t\t// add class to content-wrapper informing how many rows is there\n\t\tif (availableRows > 13) {\n\t\t\ttable.prev().removeClass()\n\t\t\t\t.addClass('content-wrapper')\n\t\t\t\t.addClass(`rows${(availableRows - 1).toString()}`);\n\n\t\t\trow.each(function (index) {\n\t\t\t\tindex <= availableRows - 2 ? $(this).removeClass('hidden') : $(this).addClass(\"hidden\");\n\t\t\t})\n\t\t} else {\n\t\t\ttable.prev().removeClass()\n\t\t\t\t.addClass('content-wrapper')\n\t\t\t\t.addClass(`rows13`);\n\n\t\t\trow.each(function (index) {\n\t\t\t\tindex <= 12 ? $(this).removeClass('hidden') : $(this).addClass(\"hidden\");\n\t\t\t})\n\t\t}\n\t};\n\n\t// drawing themes\n\tlet prevNum = 2;  // first displayed image index\n\tlet disableThemeChange = false;\n\n\tconst drawTheme = (themes) => {\n\n\t\tif (disableThemeChange) return;\n\n\t\t//image index can be larger than actual images index, to simulate drawing no image\n\t\tlet draw = Math.floor(Math.random() * (themes.length + 2));\n\t\tlet disableTime = Math.floor(Math.random() * (20 - 10)) + 10;\n\n\n\t\tif (draw === prevNum || draw === 1) { //image 1 is restricted to show after another image\n\t\t\tdrawTheme(themes);\n\t\t\treturn;\n\t\t} else {\n\n\t\t\tif (prevNum === 0) {\n\t\t\t\tprevNum = 1;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthemes.each(function (i, e) {\n\t\t\t\t\t\ti === 1 ? $(e).fadeIn(500) : $(e).hide();\n\t\t\t\t\t})\n\t\t\t\t}, disableTime * 500);\n\n\t\t\t} else {\n\t\t\t\tprevNum = draw;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthemes.each(function (i, e) {\n\t\t\t\t\t\ti === draw ? $(e).fadeIn(500) : $(e).hide();\n\t\t\t\t\t})\n\t\t\t\t}, disableTime * 500);\n\t\t\t}\n\t\t}\n\t\tdisableThemeChange = true\n\t\tsetTimeout(() => {\n\t\t\tdisableThemeChange = false;\n\t\t}, disableTime * 1000);\n\n\t};\n\n\t// handling left and right side galleries\n\tconst handleLeftGallery = (index, images, themes) => {\n\t\tlet counter = index;\n\n\t\t$(\".nav-left > .next\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).prev().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter += 2;\n\t\t\timagesInfo.leftIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 2) {\n\t\t\t\t$(this).hide();\n\t\t\t} else if (images.length % 2 && counter === images.length - 1) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t});\n\n\t\t$(\".nav-left > .prev\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 2) {\n\t\t\t\t$(this).next().show();\n\n\t\t\t} else if (images.length % 2 && counter === images.length - 1) {\n\t\t\t\t$(this).next().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter -= 2;\n\t\t\timagesInfo.leftIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t})\n\t};\n\n\tconst handleRightGallery = (index, images, themes) => {\n\t\tlet counter = index;\n\n\t\t$(\".nav-right > .next\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).prev().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter += 2;\n\t\t\timagesInfo.rightIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 1) {\n\t\t\t\t$(this).hide();\n\t\t\t} else if (images.length % 2 && counter === images.length - 2) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t});\n\n\t\t$(\".nav-right > .prev\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 1) {\n\t\t\t\t$(this).next().show();\n\n\t\t\t} else if (images.length % 2 && counter === images.length - 2) {\n\t\t\t\t$(this).next().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter -= 2;\n\t\t\timagesInfo.rightIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t})\n\t};\n\n\tconst showImagesCommercial = () => {\n\t\tconst images = $('.image');\n\t\tconst themes = $('.theme img');\n\n\t\tlet leftIndex = 0;\n\t\tlet rightIndex = 1;\n\t\tthemes.eq(2).show();\n\t\t//drawTheme(themes);\n\t\thandleLeftGallery(leftIndex, images, themes);\n\t\thandleRightGallery(rightIndex, images, themes);\n\n\n\n\t\t// handle display while resize and change screen orientation\n\n\t\t// on loading page if desktop, show proper immages and handle small videos\n\n\t\tif (!(mobileViewport.matches || tabletViewport.matches)) {\n\t\t\t$(images[0]).show();\n\t\t\t$(images[1]).show();\n\t\t\tdesktopHandleMiniatures();\n\t\t} else {\n\t\t\tmobileHandleMiniatures();\n\n\t\t}\n\n\t\tmobileViewport.addListener(function (mq) {\n\n\t\t\tif (mq.matches) {\n\t\t\t\t$(images).show()\n\t\t\t\tmobileHandleMiniatures();\n\n\t\t\t} else {\n\t\t\t\t$(images).hide();\n\t\t\t\t$(images[imagesInfo.leftIndex]).show();\n\t\t\t\t$(images[imagesInfo.rightIndex]).show();\n\t\t\t\tdesktopHandleMiniatures();\n\t\t\t}\n\t\t});\n\n\t\ttabletViewport.addListener(function (mq) {\n\n\t\t\tif (mq.matches) {\n\t\t\t\t$(images).show()\n\t\t\t\tmobileHandleMiniatures();\n\n\t\t\t} else {\n\t\t\t\t$(images).hide();\n\t\t\t\t$(images[imagesInfo.leftIndex]).show();\n\t\t\t\t$(images[imagesInfo.rightIndex]).show();\n\t\t\t\tdesktopHandleMiniatures();\n\n\t\t\t}\n\t\t});\n\n\t};\n\n\tconst desktopHandleMiniatures = function () {\n\t\t$('.image')\n\t\t\t.off('mouseenter mouseleave scroll')\n\t\t\t.on('mouseenter mouseleave', function (event) {\n\n\t\t\t\tconst video = this.querySelector('video');\n\t\t\t\tif (event.type === 'mouseenter')\n\t\t\t\t\tvideo !== null ? video.play() : null;\n\t\t\t\telse\n\t\t\t\t\tvideo !== null ? video.pause() : null;\n\t\t\t});\n\t}\n\n\tconst mobileHandleMiniatures = function () {\n\t\t$(window)\n\t\t\t.off('mouseenter mouseleave scroll')\n\t\t\t.on('scroll', function () {\n\t\t\t\t\n\t\t\t\tconst \n\t\t\t\t\tvideos = $('.content-wrapper figure:not(.theme,.photos)'),\n\t\t\t\t\ttopVideo = [...videos]\n\t\t\t\t\t.filter((el) => el.getBoundingClientRect().top > 0)\n\t\t\t\t\t.reduce((prev, current) => (prev.getBoundingClientRect().top < current.getBoundingClientRect().top) ? prev : current)\n\t\t\t\t\n\t\t\t\tvideos.each((i,el) => {\n\t\t\t\t//video must have muted attr for this code to work!!!\n\t\t\t\t\tconst video = el.querySelector('video');\n\t\t\t\t\tif (el === topVideo){\n\t\t\t\t\t\tvideo.readyState === 4 ? video.play() : null;\n\t\t\t\t\t} else{\n\t\t\t\t\t\tvideo.pause();\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t\t\n\n\n\t\t\t});\n\t}\n\n\tshowImagesCommercial();\n\tdefineTable();\n\t$(window).on(\"resize\", defineTable);\n\n\n});\n\n\n\n"]}