{"version":3,"sources":["app.js"],"names":["$","imagesInfo","leftIndex","rightIndex","mobileViewport","window","matchMedia","tabletViewport","defineTable","table","viewPort","height","row","rowHeight","outerHeight","availableRows","Math","floor","prev","removeClass","addClass","index","toString","each","this","prevNum","disableThemeChange","drawTheme","themes","disableTime","draw","random","length","i","setTimeout","e","fadeIn","hide","handleLeftGallery","images","counter","on","show","handleRightGallery","next","showImagesCommercial","visibleVideos","bottomVideo","event","figures","filter","topVideo","children","console","log","clientY","document","documentElement","clientHeight","find","css","mobileHandleMiniatures","videos","el","getBoundingClientRect","tagName","paused","pause","video","readyState","play","off","top","reduce","current","querySelector","desktopHandleMiniatures","matches","addListener","mq"],"mappings":"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","file":"app.js","sourcesContent":["$(() => {\n\n\t// define image index object to properly show images after resizing\n\tconst imagesInfo = {\n\t\tleftIndex: 0,\n\t\trightIndex: 1\n\t};\n\n\t// define smaller screens\n\n\tlet mobileViewport = window.matchMedia(\"screen and (max-width: 1023px)\");\n\tlet tabletViewport = window.matchMedia(\"screen and (max-width: 1199px) and (orientation: portrait)\");\n\n\t// drawing a table relative to viewport\n\n\tconst defineTable = () => {\n\t\tlet table = $('.table');\n\t\tlet viewPort = $(window).height();\n\t\tlet row = $('.row');\n\t\tlet rowHeight = row.outerHeight();\n\t\tlet availableRows = Math.floor(viewPort / rowHeight);\n\n\t\t// to avoid content-wrapper class going over \"rows20\"\n\t\tavailableRows = availableRows > 21 ? 21 : availableRows;\n\n\t\t// draw table rows (min 13, max 20)\n\t\t// add class to content-wrapper informing how many rows is there\n\t\tif (availableRows > 13) {\n\t\t\ttable.prev().removeClass()\n\t\t\t\t.addClass('content-wrapper')\n\t\t\t\t.addClass(`rows${(availableRows - 1).toString()}`);\n\n\t\t\trow.each(function (index) {\n\t\t\t\tindex <= availableRows - 2 ? $(this).removeClass('hidden') : $(this).addClass(\"hidden\");\n\t\t\t})\n\t\t} else {\n\t\t\ttable.prev().removeClass()\n\t\t\t\t.addClass('content-wrapper')\n\t\t\t\t.addClass(`rows13`);\n\n\t\t\trow.each(function (index) {\n\t\t\t\tindex <= 12 ? $(this).removeClass('hidden') : $(this).addClass(\"hidden\");\n\t\t\t})\n\t\t}\n\t};\n\n\t// drawing themes\n\tlet prevNum = 2;  // first displayed image index\n\tlet disableThemeChange = false;\n\n\tconst drawTheme = (themes) => {\n\n\t\tif (disableThemeChange) return;\n\n\t\t//image index can be larger than actual images index, to simulate drawing no image\n\t\tlet draw = Math.floor(Math.random() * (themes.length + 2));\n\t\tlet disableTime = Math.floor(Math.random() * (20 - 10)) + 10;\n\n\n\t\tif (draw === prevNum || draw === 1) { //image 1 is restricted to show after another image\n\t\t\tdrawTheme(themes);\n\t\t\treturn;\n\t\t} else {\n\n\t\t\tif (prevNum === 0) {\n\t\t\t\tprevNum = 1;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthemes.each(function (i, e) {\n\t\t\t\t\t\ti === 1 ? $(e).fadeIn(500) : $(e).hide();\n\t\t\t\t\t})\n\t\t\t\t}, disableTime * 500);\n\n\t\t\t} else {\n\t\t\t\tprevNum = draw;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthemes.each(function (i, e) {\n\t\t\t\t\t\ti === draw ? $(e).fadeIn(500) : $(e).hide();\n\t\t\t\t\t})\n\t\t\t\t}, disableTime * 500);\n\t\t\t}\n\t\t}\n\t\tdisableThemeChange = true\n\t\tsetTimeout(() => {\n\t\t\tdisableThemeChange = false;\n\t\t}, disableTime * 1000);\n\n\t};\n\n\t// handling left and right side galleries\n\tconst handleLeftGallery = (index, images, themes) => {\n\t\tlet counter = index;\n\n\t\t$(\".nav-left > .next\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).prev().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter += 2;\n\t\t\timagesInfo.leftIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 2) {\n\t\t\t\t$(this).hide();\n\t\t\t} else if (images.length % 2 && counter === images.length - 1) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t});\n\n\t\t$(\".nav-left > .prev\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 2) {\n\t\t\t\t$(this).next().show();\n\n\t\t\t} else if (images.length % 2 && counter === images.length - 1) {\n\t\t\t\t$(this).next().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter -= 2;\n\t\t\timagesInfo.leftIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t})\n\t};\n\n\tconst handleRightGallery = (index, images, themes) => {\n\t\tlet counter = index;\n\n\t\t$(\".nav-right > .next\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).prev().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter += 2;\n\t\t\timagesInfo.rightIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 1) {\n\t\t\t\t$(this).hide();\n\t\t\t} else if (images.length % 2 && counter === images.length - 2) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t});\n\n\t\t$(\".nav-right > .prev\").on(\"click\", function () {\n\n\t\t\tdrawTheme(themes);\n\n\t\t\tif (!(images.length % 2) && counter === images.length - 1) {\n\t\t\t\t$(this).next().show();\n\n\t\t\t} else if (images.length % 2 && counter === images.length - 2) {\n\t\t\t\t$(this).next().show()\n\t\t\t}\n\n\t\t\t$(images[counter]).hide();\n\t\t\tcounter -= 2;\n\t\t\timagesInfo.rightIndex = counter;\n\t\t\t$(images[counter]).show();\n\n\t\t\tif (counter === index) {\n\t\t\t\t$(this).hide()\n\t\t\t}\n\n\t\t})\n\t};\n\n\tconst showImagesCommercial = () => {\n\t\tconst images = $('.image');\n\t\tconst themes = $('.theme img');\n\n\t\tlet leftIndex = 0;\n\t\tlet rightIndex = 1;\n\t\tthemes.eq(2).show();\n\t\t//drawTheme(themes);\n\t\thandleLeftGallery(leftIndex, images, themes);\n\t\thandleRightGallery(rightIndex, images, themes);\n\n\n\n\t\t// handle display while resize and change screen orientation\n\n\t\t// on loading page if desktop, show proper immages and handle small videos\n\n\t\tif (!(mobileViewport.matches || tabletViewport.matches)) {\n\t\t\t$(images[0]).show();\n\t\t\t$(images[1]).show();\n\t\t\tdesktopHandleMiniatures();\n\t\t} else {\n\t\t\tmobileHandleMiniatures();\n\n\t\t}\n\n\t\tmobileViewport.addListener(function (mq) {\n\n\t\t\tif (mq.matches) {\n\t\t\t\t$(images).show()\n\t\t\t\tmobileHandleMiniatures();\n\n\t\t\t} else {\n\t\t\t\t$(images).hide();\n\t\t\t\t$(images[imagesInfo.leftIndex]).show();\n\t\t\t\t$(images[imagesInfo.rightIndex]).show();\n\t\t\t\tdesktopHandleMiniatures();\n\t\t\t}\n\t\t});\n\n\t\ttabletViewport.addListener(function (mq) {\n\n\t\t\tif (mq.matches) {\n\t\t\t\t$(images).show()\n\t\t\t\tmobileHandleMiniatures();\n\n\t\t\t} else {\n\t\t\t\t$(images).hide();\n\t\t\t\t$(images[imagesInfo.leftIndex]).show();\n\t\t\t\t$(images[imagesInfo.rightIndex]).show();\n\t\t\t\tdesktopHandleMiniatures();\n\n\t\t\t}\n\t\t});\n\n\t};\n\tconst desktopHandleMiniatures = function () {\n\t\tconst figures = $('.content-wrapper figure:not(.theme)')\n\n\t\t$(window).on('mousemove', function (e) {\n\t\t\te = e || window.event;\n\t\t\tconst visibleVideos = figures.filter(':visible'),\n\t\t\t\ttopVideo = visibleVideos[1].children[0],\n\t\t\t\tbottomVideo = visibleVideos[0].children[0]\n\t\t\t\tconsole.log(bottomVideo);\n\t\t\t\t\n\n\t\t\tif (e.clientY < document.documentElement.clientHeight / 2) \n\t\t\t{\n\t\t\t\t//hide top video poster, show bottom video poster, play top pause bottom video\n\t\t\t\t$(visibleVideos[1])\n\t\t\t\t\t.find('.poster')\n\t\t\t\t\t.css('display', 'none');\n\t\t\t\t\t\n\n\t\t\t\t$(visibleVideos[0])\n\t\t\t\t\t.find('.poster')\n\t\t\t\t\t.css('display', 'flex');\n\n\t\t\t\ttopVideo.tagName === 'VIDEO' && topVideo.paused ? topVideo.play() : null;  \n\t\t\t\tbottomVideo.tagName === 'VIDEO' && !bottomVideo.paused ? bottomVideo.pause() : null;  \n\t\t\t} \n\t\t\telse \n\t\t\t{\n\t\t\t\t$(visibleVideos[0])\n\t\t\t\t\t.find('.poster')\n\t\t\t\t\t.css('display', 'none');\n\t\t\t\t$(visibleVideos[1])\n\t\t\t\t\t.find('.poster')\n\t\t\t\t\t.css('display', 'flex');\n\t\t\t\t\n\t\t\t\tbottomVideo.tagName === 'VIDEO' && bottomVideo.paused ? bottomVideo.play() : null; topVideo.tagName === 'VIDEO' && !topVideo.paused ? topVideo.pause() : null; \t\n\t\t\t}\n\n\t\t})\n\t}\n\t/* const desktopHandleMiniatures = function () {\n\t\t$('.image')\n\t\t\t.off('mouseenter mouseleave scroll')\n\t\t\t.on('mouseenter mouseleave', function (event) {\n\n\t\t\t\tconst video = this.querySelector('video');\n\t\t\t\tif (event.type === 'mouseenter')\n\t\t\t\t\tvideo !== null ? video.play() : null;\n\t\t\t\telse\n\t\t\t\t\tvideo !== null ? video.pause() : null;\n\t\t\t});\n\t} */\n\n\tconst mobileHandleMiniatures = function () {\n\t\t$(window)\n\t\t\t.off('mouseenter mouseleave scroll')\n\t\t\t.on('scroll', function () {\n\n\t\t\t\tconst\n\t\t\t\t\tvideos = $('.content-wrapper figure:not(.theme,.photos)'),\n\t\t\t\t\ttopVideo = [...videos]\n\t\t\t\t\t\t.filter((el) => el.getBoundingClientRect().top > 0)\n\t\t\t\t\t\t.reduce((prev, current) => (prev.getBoundingClientRect().top < current.getBoundingClientRect().top) ? prev : current)\n\n\t\t\t\tvideos.each((i, el) => {\n\t\t\t\t\t//video must have muted attr for this code to work!!!\n\t\t\t\t\tconst video = el.querySelector('video');\n\t\t\t\t\tif (el === topVideo) {\n\t\t\t\t\t\tvideo.readyState === 4 ? video.play() : null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvideo.pause();\n\t\t\t\t\t}\n\n\t\t\t\t})\n\n\n\n\t\t\t});\n\t}\n\n\tshowImagesCommercial();\n\tdefineTable();\n\t$(window).on(\"resize\", defineTable);\n\n\n});\n\n\n\n"]}